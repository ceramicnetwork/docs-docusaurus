<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-composedb/guides/composedb-server/running-in-the-cloud" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Running in the Cloud | Ceramic documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developers.ceramic.network/docs/composedb/guides/composedb-server/running-in-the-cloud"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Running in the Cloud | Ceramic documentation"><meta data-rh="true" name="description" content="Run a ComposeDB server in the cloud"><meta data-rh="true" property="og:description" content="Run a ComposeDB server in the cloud"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://developers.ceramic.network/docs/composedb/guides/composedb-server/running-in-the-cloud"><link data-rh="true" rel="alternate" href="https://developers.ceramic.network/docs/composedb/guides/composedb-server/running-in-the-cloud" hreflang="en"><link data-rh="true" rel="alternate" href="https://developers.ceramic.network/docs/composedb/guides/composedb-server/running-in-the-cloud" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3UBUL6C1TL-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-426ZZLPJPW"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-426ZZLPJPW",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TFSMT4ZD",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Ceramic documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.a66065bf.css">
<script src="/assets/js/runtime~main.323f5197.js" defer="defer"></script>
<script src="/assets/js/main.5698ac2d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TFSMT4ZD" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_yvB4" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Ceramic logo" class="themedComponent_r477 themedComponent--light_iiro"><img src="/img/logo.svg" alt="Ceramic logo" class="themedComponent_r477 themedComponent--dark_K95Z"></div><b class="navbar__title text--truncate">Ceramic Documentation</b></a><a class="navbar__item navbar__link" href="/docs/introduction/intro">Introduction</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Developer Tools</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/orbisdb/overview">OrbisDB</a></li><li><a class="dropdown__link" href="/docs/composedb/getting-started">ComposeDB</a></li><li><a class="dropdown__link" href="/docs/wheel/wheel-reference">Wheel</a></li><li><a class="dropdown__link" href="/docs/dids/introduction">Decentralized Identifiers</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Protocol</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/protocol/js-ceramic/overview">JS-Ceramic</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Ecosystem</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/ecosystem/community">Overview</a></li><li><a href="https://threebox.notion.site/threebox/Ceramic-Ecosystem-Directory-a3a7a58f81544d33ad3feb84368775d4" target="_blank" rel="noopener noreferrer" class="dropdown__link">Ecosystem Directory<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://forum.ceramic.network/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forum<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://blog.ceramic.network/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Blog<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ceramicnetwork/docs-docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_maHW colorModeToggle_jCoG"><button class="clean-btn toggleButton_noUC toggleButtonDisabled_Y0bz" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon__gO3"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_uXbJ"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_OLl6"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UwkV"><div class="docsWrapper_A_CK"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton__XKa" type="button"></button><div class="docRoot_d0Wf"><aside class="theme-doc-sidebar-container docSidebarContainer_eRSI"><div class="sidebarViewport_DHzv"><div class="sidebar_tY5m"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Tabr"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/composedb/getting-started">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/sandbox">ComposeDB Sandbox</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/create-ceramic-app">Scaffold a new Ceramic app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/set-up-your-environment">Quickstart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/create-your-composite">Create your composite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/interact-with-data">Interact with data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/core-concepts">Core ComposeDBconcepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/next-steps">Next Steps</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/composedb/examples">Tutorials and Examples</a><button aria-label="Collapse sidebar category &#x27;Tutorials and Examples&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/examples/tutorials-and-examples">Starter Apps and Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/examples/verifiable-credentials">Verifiable Credentials</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/composedb/guides">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/composedb/guides/data-modeling">Data Modeling</a><button aria-label="Expand sidebar category &#x27;Data Modeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/composedb/guides/composedb-client">ComposeDB Client</a><button aria-label="Expand sidebar category &#x27;ComposeDB Client&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/composedb/guides/composedb-server">ComposeDB Server</a><button aria-label="Collapse sidebar category &#x27;ComposeDB Server&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/guides/composedb-server/running-locally">Running Locally</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/composedb/guides/composedb-server/running-in-the-cloud">Running in the Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/guides/composedb-server/server-configurations">Server Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/guides/composedb-server/access-mainnet">Access Mainnet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/composedb/guides/composedb-server/data-storage">Data Storage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/composedb/guides/data-interactions">Data Interactions</a><button aria-label="Expand sidebar category &#x27;Data Interactions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://composedb.js.org/docs/0.6.x/category/public-apis" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_pWkO">ComposeDB API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_bIgo"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GiNq"><div class="docItemContainer_FP3h"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zNj7" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_g1mf"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/composedb/guides"><span itemprop="name">Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/composedb/guides/composedb-server"><span itemprop="name">ComposeDB Server</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Running in the Cloud</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_NOxr theme-doc-toc-mobile tocMobile_CEGc"><button type="button" class="clean-btn tocCollapsibleButton_urj_">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Running in the Cloud</h1>
<p>Run a ComposeDB server in the cloud</p>
<h2 class="anchor anchorWithStickyNavbar_lHFp" id="things-to-know">Things to Know<a href="#things-to-know" class="hash-link" aria-label="Direct link to Things to Know" title="Direct link to Things to Know">​</a></h2>
<ul>
<li>This guide is focused on running in the cloud using Docker and Kubernetes. For local deployment instructions check out <a href="/docs/composedb/guides/composedb-server/running-locally">Running Locally</a>.</li>
<li>Interacting with ComposeDB requires running a Ceramic node as an interface for Ceramic applications, <code>ceramic-one</code> binary for data network access, and a Postgres DB. Each of these components should be running within a separate Docker container.</li>
<li>Docker images to run a Ceramic server are built from the <a href="https://github.com/ceramicnetwork/js-ceramic" target="_blank" rel="noopener noreferrer">js-ceramic</a> repository. Images built from the <code>main</code> branch are tagged with <code>latest</code>, the git commit hash of the code from which the image was built, and the npm package version of the corresponding <a href="https://www.npmjs.com/package/@ceramicnetwork/cli" target="_blank" rel="noopener noreferrer"><code>@ceramicnetwork/cli</code></a> release.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_lHFp" id="cloud-requirements">Cloud Requirements<a href="#cloud-requirements" class="hash-link" aria-label="Direct link to Cloud Requirements" title="Direct link to Cloud Requirements">​</a></h2>
<p><strong>Supported Operating Systems</strong></p>
<ul>
<li>Linux</li>
</ul>
<p><strong>Compute requirements</strong></p>
<p>You’ll need sufficient compute resources to power Ceramic, IPFS, and Postgres. Below are the recommended requirements:</p>
<ul>
<li>4 vCPUs</li>
<li>8GB RAM</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_GtNu alert alert--secondary"><div class="admonitionHeading_hesZ"><span class="admonitionIcon_Odgq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent__ndq"><p>If you are just getting started with a brand new project, you can start with a smaller instance and scale afterwards.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_lHFp" id="running-ceramic-server-on-kubernetes">Running Ceramic server on Kubernetes<a href="#running-ceramic-server-on-kubernetes" class="hash-link" aria-label="Direct link to Running Ceramic server on Kubernetes" title="Direct link to Running Ceramic server on Kubernetes">​</a></h2>
<p>You can run Ceramic Server on Kubernetes on the cloud, such as <a href="https://cloud.google.com/kubernetes-engine" target="_blank" rel="noopener noreferrer">Google Kubernetes Engine</a> or <a href="https://aws.amazon.com/eks/" target="_blank" rel="noopener noreferrer">Amazon Elastic Kubernetes Service</a>.
You can also run Ceramic Server on <a href="https://www.digitalocean.com/products/kubernetes/" target="_blank" rel="noopener noreferrer">DigitalOcean Kubernetes</a>.</p>
<p>Running Kubernetes on the Cloud means a provider will manage the underlying infrastructure for you. You can also run Kubernetes on your own infrastructure, but that is outside the scope of this guide.</p>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="running-ceramic-server-on-digitalocean-kubernetes">Running Ceramic server on DigitalOcean Kubernetes<a href="#running-ceramic-server-on-digitalocean-kubernetes" class="hash-link" aria-label="Direct link to Running Ceramic server on DigitalOcean Kubernetes" title="Direct link to Running Ceramic server on DigitalOcean Kubernetes">​</a></h3>
<p>DigitalOcean Kubernetes (DOKS) allows developers to deploy Kubernetes clusters using simple managed service.
Ceramic deployment on DigitalOcean Kubernetes will require 2 tools:</p>
<ul>
<li><a href="https://kubernetes.io/docs/tasks/tools" target="_blank" rel="noopener noreferrer">kubectl</a> - the Kubernetes command line tool</li>
<li><a href="https://docs.digitalocean.com/reference/doctl/how-to/install/" target="_blank" rel="noopener noreferrer">doctl</a> - the DigitalOcean command line tool</li>
</ul>
<p>Make sure you have these tools installed on your machine before proceeding to the next step of this guide.</p>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="creating-a-kubernetes-cluster">Creating a Kubernetes Cluster<a href="#creating-a-kubernetes-cluster" class="hash-link" aria-label="Direct link to Creating a Kubernetes Cluster" title="Direct link to Creating a Kubernetes Cluster">​</a></h3>
<p>First, you will have to create your DigitalOcean Kubernetes cluster. To do that, follow an <a href="https://docs.digitalocean.com/products/kubernetes/how-to/create-clusters/" target="_blank" rel="noopener noreferrer">official DigitalOcean tutorial</a>. The process of setting up your Kubernetes cluster will take about 10 minutes.
Once it’s up and running, you are good to continue with the next step.</p>
<div class="theme-admonition theme-admonition-note admonition_GtNu alert alert--secondary"><div class="admonitionHeading_hesZ"><span class="admonitionIcon_Odgq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent__ndq"><p>When it comes to choosing your cluster capacity, we recommend starting with the most cost-effective option - starting with the smallest cluster size and upgrading later. Also, keep in mind that
Digital Ocean offers free credits for the new users to start building their projects.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="connecting-to-kubernetes-cluster">Connecting to Kubernetes cluster<a href="#connecting-to-kubernetes-cluster" class="hash-link" aria-label="Direct link to Connecting to Kubernetes cluster" title="Direct link to Connecting to Kubernetes cluster">​</a></h3>
<p>First, you will have to configure the authentication of your cluster and retrieve the credentials. This can be achieved using the doctl command  below and substituting the authentication number provided
to you by Digital Ocean right after your cluster is launched:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">doctl kubernetes cluster kubeconfig save 362dda8b-b555-4c47-9bf0-1a81cf58e0a8</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After authenticating your cluster, it’s a good idea to verify the connectivity. This can be achieved using the following command which should list your cluster name, user and namespace:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config get-contexts</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="deploy-a-ceramic-node">Deploy a Ceramic node<a href="#deploy-a-ceramic-node" class="hash-link" aria-label="Direct link to Deploy a Ceramic node" title="Direct link to Deploy a Ceramic node">​</a></h3>
<p>In this section we will focus on deploying the Ceramic node on the DigitalOcean Kubernetes cluster.</p>
<ol>
<li>Clone the <a href="https://github.com/ceramicstudio/simpledeploy.git" target="_blank" rel="noopener noreferrer">simpledeploy</a> repository and enter the created directory:</li>
</ol>
<div class="codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-text codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/ceramicstudio/simpledeploy.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd simpledeploy/k8s/base/ceramic-one</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Run the following commands to deploy the stack:</li>
</ol>
<div class="codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-text codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain"># Create a namespace for the deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export CERAMIC_NAMESPACE=ceramic-one-0-17-0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create namespace ${CERAMIC_NAMESPACE}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create the necessary secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./scripts/create-secrets.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Apply the deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -k .</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>It will take a few minutes for the deployment to pull the docker images and start the containers. You can watch the process with the following command:</li>
</ol>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods --watch --namespace ceramic-one-0-17-0</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You will know that your deployment is up and running when all of the processes have a status <code>Running</code> as follows:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">NAME          READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceramic-one-0  1/1     Running   0           77s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceramic-one-1  1/1     Running   0           77s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">js-ceramic-0   1/1     Running   0           77s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">js-ceramic-1   1/1     Running   0           77s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">postgres-0     1/1     Running   0           77s</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Hit <code>^C</code> on your keyboard to exit this view.</p>
<div class="theme-admonition theme-admonition-note admonition_GtNu alert alert--secondary"><div class="admonitionHeading_hesZ"><span class="admonitionIcon_Odgq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent__ndq"><p>You can easily access the logs of each of the containers by using the command below and configuring the container name. For example, to access the Ceramic node logs, you can run:</p><p><code>kubectl logs --follow --namespace ceramic-one-0-17-0 js-ceramic-0</code></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="access-the-ceramic-node-using-the-api">Access the Ceramic node using the API<a href="#access-the-ceramic-node-using-the-api" class="hash-link" aria-label="Direct link to Access the Ceramic node using the API" title="Direct link to Access the Ceramic node using the API">​</a></h3>
<p>You can use local port forwarding to access the Ceramic node from your local machine. Open a new terminal and run the command below. The port forward will stop when the command is exited
so make sure to keep this command running for the rest of this guide.</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward --namespace ceramic-one-0-17-0 js-ceramic-0 7007:7007</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once you run the command you should see the following output in your terminal:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">Forwarding from 127.0.0.1:7007 -&gt; 7007</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Forwarding from [::1]:7007 -&gt; 7007</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_GtNu alert alert--secondary"><div class="admonitionHeading_hesZ"><span class="admonitionIcon_Odgq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent__ndq"><p>The Ceramic node must be ready to accept connections before you can access it.
The pod&#x27;s state must be <code>Running</code> and the <code>READY</code> column must be <code>1/1</code>.
You can check the status of the node by running the command below:</p><p>$ kubectl get pods --namespace ceramic-one-0-17-0 js-ceramic-0
NAME          READY   STATUS    RESTARTS      AGE
js-ceramic-0  1/1     Running   1 (28h ago)   28h</p></div></div>
<p>To check the connection, open a new terminal and run the command below. A successful connection should utter a response <code>Alive!</code> as follows:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:7007/api/v0/node/healthcheck</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Expected output:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">Alive!</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="expose-the-node-endpoint-to-the-internet">Expose the node endpoint to the internet<a href="#expose-the-node-endpoint-to-the-internet" class="hash-link" aria-label="Direct link to Expose the node endpoint to the internet" title="Direct link to Expose the node endpoint to the internet">​</a></h3>
<p>The last step is to expose your Ceramic node to the internet so that it’s accessible for your application. This can be done using a DigitalOcean Load Balancer which comes pre-configured for using using the SimpleDeploy scripts.
You can get the EXTERNAM IP of your <code>js-ceramic node</code> (as well as <code>ceramic-one</code>) using the following command:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get svc --namespace ceramic-one-0-17-0 js-ceramic-lb-0</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The result of this command will be an output similar to the one below. Keep in mind that might take a few minutes for the EXTERMAL-IP to be configured and change the status from <code>&lt;pending&gt;</code>:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">NAME              TYPE           CLUSTER-IP      EXTERNAL-IP       PORT(S)          AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">js-ceramic-lb-1   LoadBalancer   10.245.10.130   174.138.109.159   7007:31284/TCP   4m4s</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This external IP address can now be used for accessing your node. To test it out, copy the external IP address provided above and substitute it in the following health check command:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://174.138.109.159:7007/api/v0/node/healthcheck</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once again, a successful connection will provide an output <code>Alive!</code>:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">Alive!</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="optional---add-an-ssl-cert-and-domain-name">Optional - Add an SSL Cert and Domain Name<a href="#optional---add-an-ssl-cert-and-domain-name" class="hash-link" aria-label="Direct link to Optional - Add an SSL Cert and Domain Name" title="Direct link to Optional - Add an SSL Cert and Domain Name">​</a></h3>
<p>If you wish to direct a domain to your ceramic node and acquire an SSL Certificate, you may follow the steps under <a href="https://github.com/ceramicstudio/simpledeploy/blob/main/k8s/cert-ingress/README.md" target="_blank" rel="noopener noreferrer">cert-ingress</a> to modify the kubernetes setup.  Of course you may use other methods to add a domain name and certificate depending on what provider you wish to use.</p>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="utilize-the-deployed-assets-with-composedb-cli-and-graphiql-server">Utilize the Deployed Assets with ComposeDB CLI and Graphiql Server<a href="#utilize-the-deployed-assets-with-composedb-cli-and-graphiql-server" class="hash-link" aria-label="Direct link to Utilize the Deployed Assets with ComposeDB CLI and Graphiql Server" title="Direct link to Utilize the Deployed Assets with ComposeDB CLI and Graphiql Server">​</a></h3>
<p>Now that you have a Ceramic server deployed, you can utilize the <a href="/docs/composedb/set-up-your-environment#composedb">ComposeDB Cli</a> to create models and
composites, as well as standing up a Graphiql server backed by the Ceramic with ComposeDB server.</p>
<p>First you will need to install <a href="/docs/composedb/set-up-your-environment#composedb">ComposeDB Cli</a>. Next you will need to setup,
your environment to properly talk to your server</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">export CERAMIC_URL=&quot;http://&quot;$(kubectl get service js-ceramic-lb-0 --namespace ceramic-one-0-17-0 -o json | jq -r &#x27;.status.loadBalancer.ingress[0].ip&#x27;)&quot;:7007&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export DID_PRIVATE_KEY=$(kubectl get secrets --namespace ceramic-one-0-17-0 ceramic-admin -o json | jq -r &#x27;.data.&quot;private-key&quot;&#x27; | base64 -d)</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can now follow the existing guides, adding <code>--ceramic-url</code> or <code>--did-private-key</code> to your composdb calls. For
example:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">composedb composite:from-model kjzl6hvfrbw6c5ajfmes842lu09vjxu5956e3xq0xk12gp2jcf9s90cagt2god9 --output=my-first-composite-single.json --ceramic-url=$CERAMIC_URL --did-private-key=$DID_PRIVATE_KEY</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>will create a new composite, utilizing your remote Ceramic server. You can also run Graphiql locally</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">composedb graphql:server --graphiql runtime-composite.json --port=5005 --did-private-key=$DID_PRIVATE_KEY</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can access the graphiql server at <a href="http://localhost:5005/graphql" target="_blank" rel="noopener noreferrer">http://localhost:5005/graphql</a></p>
<h2 class="anchor anchorWithStickyNavbar_lHFp" id="commonly-asked-questions">Commonly asked questions<a href="#commonly-asked-questions" class="hash-link" aria-label="Direct link to Commonly asked questions" title="Direct link to Commonly asked questions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="where-is-my-data-stored">Where is my data stored?<a href="#where-is-my-data-stored" class="hash-link" aria-label="Direct link to Where is my data stored?" title="Direct link to Where is my data stored?">​</a></h3>
<p>Each part of the stack (js-ceramic, postgres) has its own <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" target="_blank" rel="noopener noreferrer">Persistent Volume</a>.
You can view the volumes with the following command:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get PersistentVolumeClaim --namespace ceramic-one-0-17-0</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This output includes identifiers for the volume on the cloud provider as well as the size and storage class, which defines the properties of the volume.</p>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="what-is-my-admin-did-and-how-do-i-use-it-to-connect">What is my admin DID and how do I use it to connect?<a href="#what-is-my-admin-did-and-how-do-i-use-it-to-connect" class="hash-link" aria-label="Direct link to What is my admin DID and how do I use it to connect?" title="Direct link to What is my admin DID and how do I use it to connect?">​</a></h3>
<p>The ceramic node is configured with an admin DID. This DID is used to authenticate with the ceramic node. The DID is derived from a seed, which is stored in a kubernetes secret named ceramic-admin and the private-key key&#x27;s value is the base64 encoded seed.</p>
<p>While the example deployment creates a random seed for the admin DID, you can use your own seed by creating a secret with the same name and key instead of using the create-secrets.sh script.</p>
<p>Example:</p>
<div class="codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-text codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl create secret generic ceramic-admin --from-literal=private-key=&lt;YOUR SEED&gt;</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To view the currently configured admin DID seed, you can use the following command (requires jq):</p>
<div class="codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-text codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secrets --namespace ceramic-one-0-17-0 ceramic-admin -o json | jq -r &#x27;.data.&quot;private-key&quot;&#x27; | base64 -d</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="how-do-i-connect-to-the-postgres-database">How do I connect to the Postgres database?<a href="#how-do-i-connect-to-the-postgres-database" class="hash-link" aria-label="Direct link to How do I connect to the Postgres database?" title="Direct link to How do I connect to the Postgres database?">​</a></h3>
<p>You can create a session to the postgres database with the following command:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec --namespace ceramic-one-0-17-0 -ti postgres-0 -- psql -U ceramic</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A <code>postgres</code> service is also created and can be exposed locally with port-forwarding:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward --namespace ceramic-one-0-17-0 svc/postgres 5432</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>ceramic</code> user password randomly generated during deployment.
It is also available in the <code>postgres-auth</code> secret:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --namespace ceramic-one-0-17-0 get secrets postgres-auth -o yaml</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here you should get the following output:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  password: NzNjNzQ4ZDkxM2Y5NGQ2MmQwOTRiYzQ2YzIzMmM4YzdlYzFhODA2MA==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  username: Y2VyYW1pYw==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="how-do-i-shut-it-all-down">How do I shut it all down?<a href="#how-do-i-shut-it-all-down" class="hash-link" aria-label="Direct link to How do I shut it all down?" title="Direct link to How do I shut it all down?">​</a></h3>
<p>To remove the workload from the cluster, you can delete the namespace. For example:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete namespace ceramic-one-0-17-0</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_lHFp" id="docker-hub">Docker Hub<a href="#docker-hub" class="hash-link" aria-label="Direct link to Docker Hub" title="Direct link to Docker Hub">​</a></h2>
<p>You can find the ComposeDB server and IPFS Docker images on <a href="https://hub.docker.com/u/ceramicnetwork" target="_blank" rel="noopener noreferrer">Docker Hub</a>.
Below, you can find examples of how you can run IPFS, Postgres and Ceramic processes using Docker.</p>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="running-postgres">Running Postgres<a href="#running-postgres" class="hash-link" aria-label="Direct link to Running Postgres" title="Direct link to Running Postgres">​</a></h3>
<p>An example below demonstrates how you can run a Postgres process. Make sure to update the variables to fit your use case:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">docker pull postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e POSTGRES_PASSWORD=mysecretpassword \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e PGDATA=/var/lib/postgresql/data/pgdata \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v /path_on_volume_for_postgres_data:/var/lib/postgresql/data \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p 5432:5432 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name postgres \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  postgres</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can also follow the examples from the official Postgres Docker image <a href="https://hub.docker.com/_/postgres" target="_blank" rel="noopener noreferrer">documentation</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="running-ceramic">Running Ceramic<a href="#running-ceramic" class="hash-link" aria-label="Direct link to Running Ceramic" title="Direct link to Running Ceramic">​</a></h3>
<p>An example below demonstrates how you can run a Ceramic server using Docker. Make sure to update the variables to fit your use case:</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">docker pull ceramicnetwork/js-ceramic:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p 7007:7007 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v /path_on_volume_for_daemon_config:/root/.ceramic/daemon.config.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v /path_on_volume_for_ceramic_logs:/root/.ceramic/logs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v /path_on_volume_for_ceramic_statestore:/root/.ceramic/statestore \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e NODE_ENV=production \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e CERAMIC_INDEXING_DB_URI=postgres://username:password@host:5432/dbname \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name ceramic \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  js-ceramic --ipfs-api http://ipfs_ip_address:5101</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_lHFp" id="editing-the-daemonconfigjson-file">Editing the <code>daemon.config.json</code> file<a href="#editing-the-daemonconfigjson-file" class="hash-link" aria-label="Direct link to editing-the-daemonconfigjson-file" title="Direct link to editing-the-daemonconfigjson-file">​</a></h3>
<p>To have the settings persist in your Ceramic node, edit the <code>daemon.config.json</code> file to include the configurations. The default location is <code>~/.ceramic/daemon.config.json</code>. For a full file example, see the <a href="/docs/protocol/js-ceramic/guides/ceramic-nodes/running-cloud#example-daemonconfigjson">Ceramic</a> docs.</p>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ipfs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;mode&quot;: &quot;remote&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;host&quot;: &quot;http://ipfs_ip_address:5101&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_L4Kn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_LDz4"><pre tabindex="0" class="prism-code language-bash codeBlock_Q0bR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gO3j"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;indexing&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;db&quot;: &quot;postgres://username:password@host:5432/dbname&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;allow-queries-before-historical-sync&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;enable-historical-sync&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup_C3aF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_YJtD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_PmtB"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ovk9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_lHFp" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h2>
<ul>
<li>Understand the different ways to <a href="/docs/composedb/guides/composedb-server/server-configurations">configure your server</a>, including choosing a network</li>
<li>Use your Admin DID to authenticate your node to gain <a href="/docs/composedb/guides/composedb-server/access-mainnet">access to mainnet</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/composedb/guides/composedb-server/running-locally"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Running Locally</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/composedb/guides/composedb-server/server-configurations"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Server Configurations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_D45X thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#things-to-know" class="table-of-contents__link toc-highlight">Things to Know</a></li><li><a href="#cloud-requirements" class="table-of-contents__link toc-highlight">Cloud Requirements</a></li><li><a href="#running-ceramic-server-on-kubernetes" class="table-of-contents__link toc-highlight">Running Ceramic server on Kubernetes</a><ul><li><a href="#running-ceramic-server-on-digitalocean-kubernetes" class="table-of-contents__link toc-highlight">Running Ceramic server on DigitalOcean Kubernetes</a></li><li><a href="#creating-a-kubernetes-cluster" class="table-of-contents__link toc-highlight">Creating a Kubernetes Cluster</a></li><li><a href="#connecting-to-kubernetes-cluster" class="table-of-contents__link toc-highlight">Connecting to Kubernetes cluster</a></li><li><a href="#deploy-a-ceramic-node" class="table-of-contents__link toc-highlight">Deploy a Ceramic node</a></li><li><a href="#access-the-ceramic-node-using-the-api" class="table-of-contents__link toc-highlight">Access the Ceramic node using the API</a></li><li><a href="#expose-the-node-endpoint-to-the-internet" class="table-of-contents__link toc-highlight">Expose the node endpoint to the internet</a></li><li><a href="#optional---add-an-ssl-cert-and-domain-name" class="table-of-contents__link toc-highlight">Optional - Add an SSL Cert and Domain Name</a></li><li><a href="#utilize-the-deployed-assets-with-composedb-cli-and-graphiql-server" class="table-of-contents__link toc-highlight">Utilize the Deployed Assets with ComposeDB CLI and Graphiql Server</a></li></ul></li><li><a href="#commonly-asked-questions" class="table-of-contents__link toc-highlight">Commonly asked questions</a><ul><li><a href="#where-is-my-data-stored" class="table-of-contents__link toc-highlight">Where is my data stored?</a></li><li><a href="#what-is-my-admin-did-and-how-do-i-use-it-to-connect" class="table-of-contents__link toc-highlight">What is my admin DID and how do I use it to connect?</a></li><li><a href="#how-do-i-connect-to-the-postgres-database" class="table-of-contents__link toc-highlight">How do I connect to the Postgres database?</a></li><li><a href="#how-do-i-shut-it-all-down" class="table-of-contents__link toc-highlight">How do I shut it all down?</a></li></ul></li><li><a href="#docker-hub" class="table-of-contents__link toc-highlight">Docker Hub</a><ul><li><a href="#running-postgres" class="table-of-contents__link toc-highlight">Running Postgres</a></li><li><a href="#running-ceramic" class="table-of-contents__link toc-highlight">Running Ceramic</a></li><li><a href="#editing-the-daemonconfigjson-file" class="table-of-contents__link toc-highlight">Editing the <code>daemon.config.json</code> file</a></li></ul></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/composedb/getting-started">ComposeDB</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/protocol/js-ceramic/overview">Protocol</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forum.ceramic.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://chat.ceramic.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ceramicnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ceramicnetwork/docs-docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/orgs/ceramicstudio/projects/2/views/1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.ceramic.network/c/cips/12" target="_blank" rel="noopener noreferrer" class="footer__link-item">CIPs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lTcV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 3Box Labs.</div></div></div></footer></div>
</body>
</html>