(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[787],{32578:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>u,default:()=>b,frontMatter:()=>m,metadata:()=>f,toc:()=>y});var s=t(11527),i=t(63883),r=(t(50959),t(12049)),o=t(70912),a=t(32732),d=t(97688);const c={models:{BasicProfile:{id:"kjzl6hvfrbw6c8i6k87cma2gvbnw3hgz2j2tc0hmc6yzzc1zikbwsryulsnmmak",accountRelation:{type:"single"}},Posts:{id:"kjzl6hvfrbw6cags7lvf5ajsgdfqwnnhoyp5fr3fhmitskk0ksydeaspzxckpub",accountRelation:{type:"list"}},Following:{id:"kjzl6hvfrbw6c930807bvmzvcqkqv6ni1q2jhv5bc59hima9r9ci1zk22tpxq3v",accountRelation:{type:"list"}},Comments:{id:"kjzl6hvfrbw6cb3x190263pxlza37ls1gxizt1ea21gtr9xwp7qln05elotk0h8",accountRelation:{type:"list"}}},objects:{BasicProfile:{name:{type:"string",required:!0},emoji:{type:"string",required:!1},gender:{type:"string",required:!1},username:{type:"string",required:!0},description:{type:"string",required:!1},posts:{type:"view",viewType:"relation",relation:{source:"queryConnection",model:"kjzl6hvfrbw6cags7lvf5ajsgdfqwnnhoyp5fr3fhmitskk0ksydeaspzxckpub",property:"profileId"}},author:{type:"view",viewType:"documentAccount"}},Posts:{tag:{type:"string",required:!0,indexed:!0},body:{type:"string",required:!0},edited:{type:"datetime",required:!1,indexed:!0},created:{type:"datetime",required:!0,indexed:!0},profileId:{type:"streamid",required:!0},profile:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6c8i6k87cma2gvbnw3hgz2j2tc0hmc6yzzc1zikbwsryulsnmmak",property:"profileId"}},responses:{type:"view",viewType:"relation",relation:{source:"queryConnection",model:"kjzl6hvfrbw6cb3x190263pxlza37ls1gxizt1ea21gtr9xwp7qln05elotk0h8",property:"postId"}},author:{type:"view",viewType:"documentAccount"}},Following:{profileId:{type:"streamid",required:!0},profile:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6c8i6k87cma2gvbnw3hgz2j2tc0hmc6yzzc1zikbwsryulsnmmak",property:"profileId"}}},Comments:{edited:{type:"datetime",required:!1,indexed:!0},postId:{type:"streamid",required:!0},comment:{type:"string",required:!0},created:{type:"datetime",required:!0,indexed:!0},profileId:{type:"streamid",required:!0},post:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6cags7lvf5ajsgdfqwnnhoyp5fr3fhmitskk0ksydeaspzxckpub",property:"postId"}},profile:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6c8i6k87cma2gvbnw3hgz2j2tc0hmc6yzzc1zikbwsryulsnmmak",property:"profileId"}}}},enums:{},accountData:{basicProfile:{type:"node",name:"BasicProfile"},postsList:{type:"connection",name:"Posts"},followingList:{type:"connection",name:"Following"},commentsList:{type:"connection",name:"Comments"}}},l=async e=>{d.ZP.initialize("G-V2Y8T342EX");const n=new a.e({ceramic:"https://ceramic-temp.hirenodes.io",definition:c}),t=await n.executeQuery(`${e.query}`);if(console.log(t),t.errors&&d.ZP.event({category:"sandbox-query",action:"query-error"}),!t.data.__schema)return d.ZP.event({category:"sandbox-query",action:"query-success"}),t.data},h={profiles:{values:[{title:"Profile Index",query:"# gets the first 10 indexed BasicProfile instances\n\nquery ProfileIndex {\n  basicProfileIndex(first: 10) {\n    edges {\n      node {\n        id\n        author{\n          id\n        }\n        username\n        description\n        gender\n        emoji\n      }\n    }\n  }\n}"},{title:"Known Did",query:'# gets the BasicProfile instance (if exists) \n# known pkh:did (using chainID 1 for Eth Mainnet) \n\nquery KnownDid {\n  node(id: "did:pkh:eip155:1:0xc362c16a0dcbea78fb03a8f97f56deea905617bb") {\n  ... on CeramicAccount {\n        basicProfile {\n          id\n          name\n          username\n          description\n          gender\n          emoji\n        }\n      }\n  \t}\n\t}'},{title:"Profile with Posts",query:"# gets the first 10 indexed BasicProfile instances\n\n# gets the first 5 posts published by each of the \n# 10 BasicProfile instances (if exists)\n\nquery WithPosts {\n  basicProfileIndex(first: 10) {\n    edges {\n      node {\n        username\n        posts(first: 5) {\n          edges {\n            node {\n              body\n              created\n            }\n          }\n        }\n      }\n    }\n  }\n}"},{title:"Profile with Comments on Posts",query:"# gets the first 10 indexed BasicProfile instances\n\n# gets the first 5 posts published by each of the \n# 10 BasicProfile instances (if exists)\n\n# gets the first 10 responses corresponding to each\n# of the 5 posts (if exists) \n\n# gets the corresponding BasicProfile instance for\n# each response & prints only the username property \n\nquery WithComments {\n  basicProfileIndex(first: 10) {\n    edges {\n      node {\n        username\n        posts(first: 5) {\n          edges {\n            node {\n              body\n              created\n              responses(first: 10) {\n                edges {\n                  node {\n                    comment\n                    created\n                    profile {\n                      username\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"},{title:"Known Stream",query:'# gets the BasicProfile instance (if exists) \n# based on a known StreamID\n\nquery KnownStream {\n  node(id: "k2t6wzhkhabz3a7xz88mk93y1q2waejk1w2b5rs3kc82e42dgpe4l1h4mcibih") {\n    ... on BasicProfile {\n      id\n      username\n      description\n      gender\n      emoji\n    }\n  }\n}'}]},comments:{values:[{title:"Comments With Posts",query:"# gets the last 20 indexed Comments instances (if exists)\n\n# gets the corresponding Posts instance that the comment\n# is responding to\n\n# gets the BasicProfile instance and its username property\n# corresponding to the Posts instance\n\nquery CommentsWithPost {\n    commentsIndex(last: 20) {\n      edges {\n        node {\n          comment\n          post {\n            body\n            profile {\n              username\n            }\n          }\n        }\n      }\n    }\n  }"},{title:"Ordered Comments",query:"# gets the first 10 indexed Comments instances (if exists)\n# based on sorting by each instance's created (date) field\n# in ascending order\n\n# gets the corresponding Posts instance that the comment\n# is responding to\n\n# gets the BasicProfile instance and its username property\n# corresponding to the Posts instance\n\nquery OrderedComments {\n    commentsIndex(sorting: { created: ASC }, first: 10) {\n      edges {\n        node {\n          comment\n          created\n          post {\n            body\n            profile {\n              username\n            }\n          }\n        }\n      }\n    }\n  }"}]},posts:{values:[{title:"Posts Index",query:"# gets the first 10 indexed Posts instances\n\n# gets the last 1 indexed Responses instance corresponding\n# to each of the 10 Posts instances (if exists)\n\n# gets the corresponding BasicProfile instance for\n# each response & prints only the username property \n\nquery PostsIndex{\n  postsIndex(first: 10) {\n    edges {\n      node {\n        id\n        body\n        tag\n        created\n        profile {\n          username\n        }\n        author{\n          id\n        }\n        responses(last: 1) {\n          edges {\n            node {\n              comment\n              created\n              profile {\n                username\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"},{title:"Known DID",query:'# gets the first 100 Posts instances (if exists) \n# for known pkh:did (using chainID 11155111 for Sepolia)\n\n# gets the BasicProfile instance corresponding to\n# each Posts instance\n\n# gets the first 5 Responses instances (if exists)\n# for each of the 100 Posts and prints both the\n# comment and created field\n\nquery KnownDid{\n  node(id: "did:pkh:eip155:11155111:0x8071f6f971b438f7c0ea72c950430ee7655fabce") {\n      ... on CeramicAccount {\n      id\n      postsList(first: 100) {\n        edges {\n        node {\n            id\n            body\n            created\n            profile {\n              username\n            }\n          \tresponses(first: 5){\n              edges{\n                node{\n                  comment\n                  created\n                }\n              }\n          \t}\n          }\n        }\n      }\n    } \n  }\n}'},{title:"Tag Filtered",query:'# gets the first 10 indexed Posts instances (if exists)\n# using a filter that grabs only the Posts instances\n# that have a tag property equal to "Governance"\n\n# also gets the BasicProfile instance and corresponding\n# username property for each of those Posts instances\n\nquery TagFiltered {\n  postsIndex(filters: { where: { tag: { equalTo: "Governance" } } }, first: 10) {\n    edges {\n      node {\n        body\n        created\n        profile {\n          username\n        }\n      }\n    }\n  }\n}'},{title:"Date Filtered",query:'# gets the last 10 indexed Posts instances (if exists)\n# using a filter that grabs only the Posts instances\n# that have a created property greater than "2022-05-10T14:15:00Z"\n\n# also gets the BasicProfile instance and corresponding\n# username property for each of those Posts instances\n\nquery DateFiltered {\n  postsIndex(filters: { where: { created: { greaterThan: "2022-05-10T14:15:00Z" } } }, last: 10) {\n    edges {\n      node {\n        body\n        created\n        profile {\n          username\n        }\n      }\n    }\n  }\n}'},{title:"Combine Filters",query:'# gets the first 20 indexed Posts instances (if exists)\n# using a double filter that grabs only the Posts instances\n# that have a created property greater than "2022-05-10T14:15:00Z"\n# AND a tag property equal to "Governance"\n\nquery CombineFilters {\n  postsIndex(\n    filters: {\n      and: [\n        { where: { created: { greaterThan: "2022-05-10T14:15:00Z" } } }\n        { and: { where: { tag: { equalTo: "Governance" } } } }\n      ]\n    }\n    first: 20\n  ) {\n    edges {\n      node {\n        body\n        created\n        tag\n      }\n    }\n  }\n}'}]}};function p(e){return(0,r.Z)()?(0,s.jsx)(o.yB,{defaultTabs:h[e.queries].values,storage:null,fetcher:l}):(0,s.jsx)("div",{children:"loading..."})}t(37421),t(81779);const m={title:"ComposeDB API Sandbox",description:"Test out example GraphQL queries on ComposeDB to learn how to access documents by relations, how to filter, and more.",hide_table_of_contents:!0},u="Sandbox",f={type:"mdx",permalink:"/sandbox",source:"@site/src/pages/sandbox.md",title:"ComposeDB API Sandbox",description:"Test out example GraphQL queries on ComposeDB to learn how to access documents by relations, how to filter, and more.",frontMatter:{title:"ComposeDB API Sandbox",description:"Test out example GraphQL queries on ComposeDB to learn how to access documents by relations, how to filter, and more.",hide_table_of_contents:!0},unlisted:!1},g={},y=[{value:"Data Models",id:"data-models",level:2},{value:"Instructions",id:"instructions",level:3},{value:"Reading Profiles",id:"reading-profiles",level:2},{value:"Reading Posts",id:"reading-posts",level:2},{value:"Reading Comments",id:"reading-comments",level:2},{value:"Next Steps",id:"next-steps",level:2}];function x(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",p:"p",strong:"strong",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"sandbox",children:"Sandbox"}),"\n",(0,s.jsx)(n.p,{children:"Test out several pre-made example queries below to gain hands-on exposure to accessing documents by relations, filtering and ordering by fields, and combining query logic."}),"\n",(0,s.jsxs)(n.p,{children:["For a deeper dive into querying, visit the ",(0,s.jsx)(n.a,{href:"../docs/composedb/guides/data-interactions/queries",children:(0,s.jsx)(n.strong,{children:"queries"})})," page."]}),"\n",(0,s.jsx)(n.h2,{id:"data-models",children:"Data Models"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["The schema definitions that this sandbox uses are outlined in ",(0,s.jsx)(n.a,{href:"https://github.com/ceramicstudio/EthDenver2023Demo/tree/main/composites",children:(0,s.jsx)(n.strong,{children:"this repository"})}),". The sandbox has been pre-populated with data corresponding to several fictionary people."]}),"\n",(0,s.jsx)(n.h3,{id:"instructions",children:"Instructions"}),"\n",(0,s.jsx)(n.p,{children:"To interact with the ComposeDB Sandbox, simply press the pink play icon to execute the pre-written queries in the left-hand side of the embedded GraphiQL IDE. Results returned from your query will populate in the right-hand side of the interface."}),"\n",(0,s.jsx)(n.p,{children:"You can also alter your query logic however you see fit, or build your own queries entirely from scratch based on the schema definitions."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Please note that this sandbox only processes read requests."})}),"\n",(0,s.jsx)(n.h2,{id:"reading-profiles",children:"Reading Profiles"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Use the example queries below to access data related to the ",(0,s.jsx)(n.code,{children:"BasicProfile"})," model:"]}),"\n",(0,s.jsx)("div",{style:{height:"60rem",width:"100%",margin:"auto"},children:(0,s.jsx)(p,{queries:"profiles"})}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"reading-posts",children:"Reading Posts"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Use the example queries below to access data related to the ",(0,s.jsx)(n.code,{children:"Posts"})," model:"]}),"\n",(0,s.jsx)("div",{style:{height:"60rem",width:"100%",margin:"auto"},children:(0,s.jsx)(p,{queries:"posts"})}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"reading-comments",children:"Reading Comments"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Use the example queries below to access data related to the ",(0,s.jsx)(n.code,{children:"Comments"})," model:"]}),"\n",(0,s.jsx)("div",{style:{height:"60rem",width:"100%",margin:"auto"},children:(0,s.jsx)(p,{queries:"comments"})}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["To begin building with ComposeDB in your local environment using the same data models you just queried, get started ",(0,s.jsx)(n.a,{href:"../docs/composedb/set-up-your-environment",children:(0,s.jsx)(n.strong,{children:"Setting Up Your Environment"})}),"."]})]})}function b(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},84955:()=>{}}]);